FROM rodrigonicola/slack-minimal:latest
RUN mkdir /app && chmod 777 /app
WORKDIR /app
COPY . /app

ENV API_ID=4627680  
ENV API_HASH=be174323fb7b611dbc180526a69743ef
ENV TOKEN=5170268091:AAHr8Rz_irtfXhGeBmnBOvtSjeUeX4M4uZI

RUN slackpkg update; \
    slackpkg upgrade; \
    slackpkg install bash; \
    slackpkg install ffmpeg; \
    slackpkg install curl; \
    slackpkg install infozip; \
    slackpkg install lndir; \
    slackpkg install python3; \
    
    
    python3 -m ensurepip --default-pip; \
    python3 -m pip install --upgrade pip setuptools wheel
    
RUN curl  -L -J --output-dir /app  -O  https://github.com/yoyo2323/UdemyBotita/archive/main.zip; \
    unzip /app/UdemyBotita-main.zip; \
    cp -r /app/UdemyBotita-main/.  /app
RUN pip3 install --no-cache-dir -r /app/requirements.txt
CMD ["bash","run.sh"]
