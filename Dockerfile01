FROM alpine:3.16.2
WORKDIR /app
COPY . /app
ENV ENV=ANYTHING
ENV SESSION_NAME=AHCompressBot
ENV FFMPEG=ffmpeg -c:v libx265 -crf 27.5 -sn -s 854x480  -c:a libopus -ab 48k -vbr 2 -ac 2 -level 3.1 '''{}''' -y
ENV TG_BOT_TOKEN=5140703118:AAGOCxt3ix3Z1hlu_-mZnV488z_J3u2vpMQ
ENV APP_ID=4627680
ENV API_HASH=be174323fb7b611dbc180526a69743ef
ENV BOT_USERNAME=bajaresolucionbot
ENV LOG_CHANNEL=iytytututytiyituy
ENV AUTH_USERS=627191784
RUN     apk update; \
        apk add ffmpeg unzip python3 bash curl; \ 
        python3 -m ensurepip --default-pip; \
        python3 -m pip install --upgrade pip setuptools wheel; \
        curl -L -J --output-dir /app  -O  https://github.com/yoyo2323/EncoderBotTime/archive/main.zip; \                          
        unzip /app/EncoderBotTime-main.zip; \
        cp -r /app/EncoderBotTime-main/.  /app; \
        chmod -R 777 /app/; \
        pip3 install --no-cache-dir -r /app/EncoderBotTime-main/requirements.txt
CMD ["bash","run.sh"]

