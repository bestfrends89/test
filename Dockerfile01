FROM rodrigonicola/slack-minimal:latest
RUN mkdir /app && chmod 777 /app
WORKDIR /app
COPY . /app

ENV API_ID=4627680  
ENV API_HASH=be174323fb7b611dbc180526a69743ef
ENV BOT_TOKEN=5170268091:AAHr8Rz_irtfXhGeBmnBOvtSjeUeX4M4uZI
ENV SUDO_USERS=627191784
ENV DOWNLOAD_DIR=VideoEncoder/utils/downloads/
RUN slackpkg update; \
   
    slackpkg install bash; \
    slackpkg install ffmpeg; \
    slackpkg install curl; \
    slackpkg install infozip; \
    slackpkg install openal-soft; \
    slackpkg install m17n-lib; \
    slackpkg install libgee; \
    slackpkg install libaio; \                   
    slackpkg install libao; \                        
    slackpkg install libarchive; \                
    slackpkg install libass; \                
    slackpkg install libassuan; \                    
    slackpkg install libasyncns; \                   
    slackpkg install libatasmart; \                  
    slackpkg install libblockdev; \                  
    slackpkg install libbluray; \                   
    slackpkg install libbytesize; \               
    slackpkg install libcaca; \              
    slackpkg install libcanberra; \              
    slackpkg install libcap; \                   
    slackpkg install libcap-ng; \                
    slackpkg install libcddb; \                   
    slackpkg install libcdio; \                    
    slackpkg install libcdio-paranoia; \   
    slackpkg install libcue; \               
    slackpkg install libdaemon; \            
    slackpkg install libdmx; \                       
    slackpkg install libdrm; \                     
    slackpkg install libdvdnav; \                 
    slackpkg install libdvdread; \              
    slackpkg install libedit; \             
    slackpkg install libepoxy; \               
    slackpkg install libevdev; \            
    slackpkg install libevent; \                   
    slackpkg install libexif; \              
    slackpkg install libffi; \                     
    slackpkg install libfontenc; \               
    slackpkg install libgcrypt; \                
    slackpkg install libglade; \              
    slackpkg install libglvnd; \                
    slackpkg install libgpg-error; \          
    slackpkg install libgphoto2; \        
    slackpkg install libgtop; \           
    slackpkg install libgudev; \             
    slackpkg install libical; \            
    slackpkg install libidn; \                     
    slackpkg install libidn2; \                
    slackpkg install libimobiledevice; \  
    slackpkg install libjpeg-turbo; \         
    slackpkg install libmad; \             
    slackpkg install libmbim; \             
    slackpkg install libmng; \                   
    slackpkg install libmnl; \              
    slackpkg install libmp4v2; \
    slackpkg install libmpc; \              
    slackpkg install libmtp; \                
    slackpkg install libndp; \                
    slackpkg install libnetfilter_conntrack; \   
    slackpkg install libnfnetlink; \      
    slackpkg install libnftnl; \        
    slackpkg install libnih; \                  
    slackpkg install libnl3; \               
    slackpkg install libnma; \               
    slackpkg install libnotify; \                  
    slackpkg install libnsl; \                
    slackpkg install libogg; \                  
    slackpkg install libopusenc; \               
    slackpkg install libpcap; \                
    slackpkg install libpciaccess; \              
    slackpkg install libplist; \                 
    slackpkg install libpng; \                    
    slackpkg install libproxy; \              
    slackpkg install libpsl; \              
    slackpkg install libpthread; \
    slackpkg install libpthread-stubs; \        
    slackpkg install libpwquality; \             
    slackpkg install libqmi; \                
    slackpkg install libraw1394; \              
    slackpkg install librsvg; \                 
    slackpkg install libsamplerate; \               
    slackpkg install libsecret; \                
    slackpkg install libsigc++; \                
    slackpkg install libsndfile; \               
    slackpkg install libsoup; \                
    slackpkg install libssh; \                  
    slackpkg install libssh2; \                   
    slackpkg install libtasn1; \              
    slackpkg install libtheora; \          
    slackpkg install libtiff; \                
    slackpkg install libtirpc; \
    slackpkg install libtool; \
    slackpkg install libunistring; \
    slackpkg install libunwind; \
    slackpkg install libusb; \
    slackpkg install libusb-compat; \
    slackpkg install libusbmuxd; \
    slackpkg install libva; \
    slackpkg install libvdpau; \
    slackpkg install libvdpau-va-gl; \
    slackpkg install libvisual; \
    slackpkg install libvorbis; \
    slackpkg install libvpx; \
    slackpkg install libwebp; \
    slackpkg install libwnck3; \
    slackpkg install libxcb; \
    slackpkg install libxfce4ui; \
    slackpkg install libxfce4util; \
    slackpkg install libxkbcommon; \
    slackpkg install libxkbfile; \
    slackpkg install libxklavier; \
    slackpkg install libxml2; \
    slackpkg install libxshmfence; \
    slackpkg install libxslt; \
    slackpkg install libzip; \
    slackpkg install libopusenc; \
    slackpkg install opus; \
    slackpkg install opus-tools; \
    slackpkg install opusfile; \
    slackpkg install pulseaudio; \
    slackpkg install pulseaudio-qt; \
    slackpkg install SDL2; \
    slackpkg install alsa-lib; \
    slackpkg install aom; \
    slackpkg install bzip2; \
    slackpkg install fontconfig; \
    slackpkg install fribidi; \
    slackpkg install gmp; \
    slackpkg install lame; \
    slackpkg install zlib; \
    slackpkg install xz; \
    slackpkg install v4l-utils; \
    slackpkg install speex; \
    slackpkg install openjpeg; \
    slackpkg install opencore-amr; \
    slackpkg install libX11; \
    gnutls
    libXv
    libxml2
    libXext
    libxcb
         
    slackpkg install python3; \
    python3 -m ensurepip --default-pip; \
    python3 -m pip install --upgrade pip setuptools wheel
    
RUN curl  -L -J --output-dir /app  -O  https://github.com/tuiiuu/ttt/archive/audio.zip; \
    unzip /app/ttt-audio.zip; \
    cp -r /app/ttt-audio/.  /app
RUN pip3 install --no-cache-dir -r /app/requirements.txt
CMD ["bash","run.sh"]
