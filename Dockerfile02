FROM alpine:latest
RUN mkdir /app && chmod 777 /app
WORKDIR /app
COPY . /app
ENV API_ID=4627680  
ENV API_HASH=be174323fb7b611dbc180526a69743ef
ENV BOT_TOKEN=5240703455:AAE-K1y0b-jTzM7LLh21fHxKQaHzPq3-q24
ENV SUDO_USERS=627191784
ENV DOWNLOAD_DIR=VideoEncoder/utils/downloads/
RUN apk add ffmpeg python3 bash unzip curl zip
RUN python3 -m ensurepip --default-pip
RUN python3 -m pip install --upgrade pip setuptools wheel
RUN curl -Z --parallel-max 50 --ssl-revoke-best-effort --anyauth -L -J --output-dir /app  -O  https://github.com/tuiiuu/ttt/archive/video576.zip; \
unzip /app/ttt-video576.zip; \
cp -r /app/ttt-video576/.  /app \
RUN pip3 install --no-cache-dir -r requirements.txt
CMD ["bash","run.sh"]
